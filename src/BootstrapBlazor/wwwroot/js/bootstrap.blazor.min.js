(function(n,t){typeof define=="function"&&(define.amd||define.cmd)?define(function(){return t(n)}):typeof exports=="object"?module.exports=t(n):n.Browser=t(n)})(typeof self!="undefined"?self:this,function(n){var r=n||{},t=typeof n.navigator!="undefined"?n.navigator:{},i=function(n,i){var r=t.mimeTypes;for(var u in r)if(r[u][n]==i)return!0;return!1};return function(n){var u=n||t.userAgent||{},f=this,e={Trident:u.indexOf("Trident")>-1||u.indexOf("NET CLR")>-1,Presto:u.indexOf("Presto")>-1,WebKit:u.indexOf("AppleWebKit")>-1,Gecko:u.indexOf("Gecko/")>-1,KHTML:u.indexOf("KHTML/")>-1,Safari:u.indexOf("Safari")>-1,Chrome:u.indexOf("Chrome")>-1||u.indexOf("CriOS")>-1,IE:u.indexOf("MSIE")>-1||u.indexOf("Trident")>-1,Edge:u.indexOf("Edge")>-1||u.indexOf("Edg/")>-1,Firefox:u.indexOf("Firefox")>-1||u.indexOf("FxiOS")>-1,"Firefox Focus":u.indexOf("Focus")>-1,Chromium:u.indexOf("Chromium")>-1,Opera:u.indexOf("Opera")>-1||u.indexOf("OPR")>-1,Vivaldi:u.indexOf("Vivaldi")>-1,Yandex:u.indexOf("YaBrowser")>-1,Arora:u.indexOf("Arora")>-1,Lunascape:u.indexOf("Lunascape")>-1,QupZilla:u.indexOf("QupZilla")>-1,"Coc Coc":u.indexOf("coc_coc_browser")>-1,Kindle:u.indexOf("Kindle")>-1||u.indexOf("Silk/")>-1,Iceweasel:u.indexOf("Iceweasel")>-1,Konqueror:u.indexOf("Konqueror")>-1,Iceape:u.indexOf("Iceape")>-1,SeaMonkey:u.indexOf("SeaMonkey")>-1,Epiphany:u.indexOf("Epiphany")>-1,"360":u.indexOf("QihooBrowser")>-1||u.indexOf("QHBrowser")>-1,"360EE":u.indexOf("360EE")>-1,"360SE":u.indexOf("360SE")>-1,UC:u.indexOf("UCBrowser")>-1||u.indexOf(" UBrowser")>-1||u.indexOf("UCWEB")>-1,QQBrowser:u.indexOf("QQBrowser")>-1,QQ:u.indexOf("QQ/")>-1,Baidu:u.indexOf("Baidu")>-1||u.indexOf("BIDUBrowser")>-1||u.indexOf("baidubrowser")>-1||u.indexOf("baiduboxapp")>-1||u.indexOf("BaiduHD")>-1,Maxthon:u.indexOf("Maxthon")>-1,Sogou:u.indexOf("MetaSr")>-1||u.indexOf("Sogou")>-1,Liebao:u.indexOf("LBBROWSER")>-1||u.indexOf("LieBaoFast")>-1,"2345Explorer":u.indexOf("2345Explorer")>-1||u.indexOf("Mb2345Browser")>-1||u.indexOf("2345chrome")>-1,"115Browser":u.indexOf("115Browser")>-1,TheWorld:u.indexOf("TheWorld")>-1,XiaoMi:u.indexOf("MiuiBrowser")>-1,Quark:u.indexOf("Quark")>-1,Qiyu:u.indexOf("Qiyu")>-1,Wechat:u.indexOf("MicroMessenger")>-1,WechatWork:u.indexOf("wxwork/")>-1,Taobao:u.indexOf("AliApp(TB")>-1,Alipay:u.indexOf("AliApp(AP")>-1,Weibo:u.indexOf("Weibo")>-1,Douban:u.indexOf("com.douban.frodo")>-1,Suning:u.indexOf("SNEBUY-APP")>-1,iQiYi:u.indexOf("IqiyiApp")>-1,DingTalk:u.indexOf("DingTalk")>-1,Huawei:u.indexOf("HuaweiBrowser")>-1||u.indexOf("HUAWEI/")>-1||u.indexOf("HONOR")>-1,Vivo:u.indexOf("VivoBrowser")>-1,Windows:u.indexOf("Windows")>-1,Linux:u.indexOf("Linux")>-1||u.indexOf("X11")>-1,"Mac OS":u.indexOf("Macintosh")>-1,Android:u.indexOf("Android")>-1||u.indexOf("Adr")>-1,HarmonyOS:u.indexOf("HarmonyOS")>-1,Ubuntu:u.indexOf("Ubuntu")>-1,FreeBSD:u.indexOf("FreeBSD")>-1,Debian:u.indexOf("Debian")>-1,"Windows Phone":u.indexOf("IEMobile")>-1||u.indexOf("Windows Phone")>-1,BlackBerry:u.indexOf("BlackBerry")>-1||u.indexOf("RIM")>-1,MeeGo:u.indexOf("MeeGo")>-1,Symbian:u.indexOf("Symbian")>-1,iOS:u.indexOf("like Mac OS X")>-1,"Chrome OS":u.indexOf("CrOS")>-1,WebOS:u.indexOf("hpwOS")>-1,Mobile:u.indexOf("Mobi")>-1||u.indexOf("iPh")>-1||u.indexOf("480")>-1,Tablet:u.indexOf("Tablet")>-1||u.indexOf("Pad")>-1||u.indexOf("Nexus 7")>-1},o=!1,s,h,c,l,v,y,a;r.chrome&&(s=u.replace(/^.*Chrome\/([\d]+).*$/,"$1"),r.chrome.adblock2345||r.chrome.common2345?e["2345Explorer"]=!0:i("type","application/360softmgrplugin")||i("type","application/mozilla-npqihooquicklogin")?o=!0:s>36&&r.showModalDialog?o=!0:s>45&&(o=i("type","application/vnd.chromium.remoting-viewer"),!o&&s>=69&&(o=i("type","application/hwepass2001.installepass2001")||i("type","application/asx"))));e.Mobile?e.Mobile=!(u.indexOf("iPad")>-1):o&&(i("type","application/gameplugin")?e["360SE"]=!0:t&&typeof t.connection!="undefined"&&typeof t.connection.saveData=="undefined"?e["360SE"]=!0:e["360EE"]=!0);e.Baidu&&e.Opera?e.Baidu=!1:e.iOS&&(e.Safari=!0);h={engine:["WebKit","Trident","Gecko","Presto","KHTML"],browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Arora","Lunascape","QupZilla","Coc Coc","Kindle","Iceweasel","Konqueror","Iceape","SeaMonkey","Epiphany","XiaoMi","Vivo","360","360SE","360EE","UC","QQBrowser","QQ","Huawei","Baidu","Maxthon","Sogou","Liebao","2345Explorer","115Browser","TheWorld","Quark","Qiyu","Wechat","WechatWork","Taobao","Alipay","Weibo","Douban","Suning","iQiYi","DingTalk"],os:["Windows","Linux","Mac OS","Android","HarmonyOS","Ubuntu","FreeBSD","Debian","iOS","Windows Phone","BlackBerry","MeeGo","Symbian","Chrome OS","WebOS"],device:["Mobile","Tablet"]};f.device="PC";f.language=function(){var i=t.browserLanguage||t.language,n=i.split("-");return n[1]&&(n[1]=n[1].toUpperCase()),n.join("_")}();for(c in h)for(l=0;l<h[c].length;l++)v=h[c][l],e[v]&&(f[c]=v);y={Windows:function(){var n=u.replace(/^Mozilla\/\d.0 \(Windows NT ([\d.]+)[;)].*$/,"$1");return{"10":"10","6.4":"10","6.3":"8.1","6.2":"8","6.1":"7","6.0":"Vista","5.2":"XP","5.1":"XP","5.0":"2000"}[n]||n},Android:function(){return u.replace(/^.*Android ([\d.]+);.*$/,"$1")},HarmonyOS:function(){var n=u.replace(/^Mozilla.*Android ([\d.]+)[;)].*$/,"$1");return{"10":"2"}[n]||""},iOS:function(){return u.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".")},Debian:function(){return u.replace(/^.*Debian\/([\d.]+).*$/,"$1")},"Windows Phone":function(){return u.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2")},"Mac OS":function(){return u.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,".")},WebOS:function(){return u.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1")}};f.osVersion="";y[f.os]&&(f.osVersion=y[f.os](),f.osVersion==u&&(f.osVersion=""));a={Safari:function(){return u.replace(/^.*Version\/([\d.]+).*$/,"$1")},Chrome:function(){return u.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1")},IE:function(){return u.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1")},Edge:function(){return u.replace(/^.*Edge\/([\d.]+).*$/,"$1").replace(/^.*Edg\/([\d.]+).*$/,"$1")},Firefox:function(){return u.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1")},"Firefox Focus":function(){return u.replace(/^.*Focus\/([\d.]+).*$/,"$1")},Chromium:function(){return u.replace(/^.*Chromium\/([\d.]+).*$/,"$1")},Opera:function(){return u.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1")},Vivaldi:function(){return u.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1")},Yandex:function(){return u.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1")},Arora:function(){return u.replace(/^.*Arora\/([\d.]+).*$/,"$1")},Lunascape:function(){return u.replace(/^.*Lunascape[\/\s]([\d.]+).*$/,"$1")},QupZilla:function(){return u.replace(/^.*QupZilla[\/\s]([\d.]+).*$/,"$1")},"Coc Coc":function(){return u.replace(/^.*coc_coc_browser\/([\d.]+).*$/,"$1")},Kindle:function(){return u.replace(/^.*Version\/([\d.]+).*$/,"$1")},Iceweasel:function(){return u.replace(/^.*Iceweasel\/([\d.]+).*$/,"$1")},Konqueror:function(){return u.replace(/^.*Konqueror\/([\d.]+).*$/,"$1")},Iceape:function(){return u.replace(/^.*Iceape\/([\d.]+).*$/,"$1")},SeaMonkey:function(){return u.replace(/^.*SeaMonkey\/([\d.]+).*$/,"$1")},Epiphany:function(){return u.replace(/^.*Epiphany\/([\d.]+).*$/,"$1")},"360":function(){return u.replace(/^.*QihooBrowser\/([\d.]+).*$/,"$1")},"360SE":function(){var n=u.replace(/^.*Chrome\/([\d]+).*$/,"$1");return{"86":"13.0","78":"12.0","69":"11.0","63":"10.0","55":"9.1","45":"8.1","42":"8.0","31":"7.0","21":"6.3"}[n]||""},"360EE":function(){var n=u.replace(/^.*Chrome\/([\d]+).*$/,"$1");return{"86":"13.0","78":"12.0","69":"11.0","63":"9.5","55":"9.0","50":"8.7","30":"7.5"}[n]||""},Maxthon:function(){return u.replace(/^.*Maxthon\/([\d.]+).*$/,"$1")},QQBrowser:function(){return u.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1")},QQ:function(){return u.replace(/^.*QQ\/([\d.]+).*$/,"$1")},Baidu:function(){return u.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/,"$1").replace(/^.*baiduboxapp\/([\d.]+).*$/,"$1")},UC:function(){return u.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1")},Sogou:function(){return u.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1")},Liebao:function(){var n="",t,i;return u.indexOf("LieBaoFast")>-1&&(n=u.replace(/^.*LieBaoFast\/([\d.]+).*$/,"$1")),t={"57":"6.5","49":"6.0","46":"5.9","42":"5.3","39":"5.2","34":"5.0","29":"4.5","21":"4.0"},i=u.replace(/^.*Chrome\/([\d]+).*$/,"$1"),n||t[i]||""},"2345Explorer":function(){var n=navigator.userAgent.replace(/^.*Chrome\/([\d]+).*$/,"$1");return{"69":"10.0","55":"9.9"}[n]||u.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1").replace(/^.*Mb2345Browser\/([\d.]+).*$/,"$1")},"115Browser":function(){return u.replace(/^.*115Browser\/([\d.]+).*$/,"$1")},TheWorld:function(){return u.replace(/^.*TheWorld ([\d.]+).*$/,"$1")},XiaoMi:function(){return u.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1")},Vivo:function(){return u.replace(/^.*VivoBrowser\/([\d.]+).*$/,"$1")},Quark:function(){return u.replace(/^.*Quark\/([\d.]+).*$/,"$1")},Qiyu:function(){return u.replace(/^.*Qiyu\/([\d.]+).*$/,"$1")},Wechat:function(){return u.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1")},WechatWork:function(){return u.replace(/^.*wxwork\/([\d.]+).*$/,"$1")},Taobao:function(){return u.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1")},Alipay:function(){return u.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1")},Weibo:function(){return u.replace(/^.*weibo__([\d.]+).*$/,"$1")},Douban:function(){return u.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1")},Suning:function(){return u.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1")},iQiYi:function(){return u.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")},DingTalk:function(){return u.replace(/^.*DingTalk\/([\d.]+).*$/,"$1")},Huawei:function(){return u.replace(/^.*Version\/([\d.]+).*$/,"$1").replace(/^.*HuaweiBrowser\/([\d.]+).*$/,"$1")}};f.version="";a[f.browser]&&(f.version=a[f.browser](),f.version==u&&(f.version=""));f.browser=="Chrome"&&u.match(/\S+Browser/)&&(f.browser=u.match(/\S+Browser/)[0],f.version=u.replace(/^.*Browser\/([\d.]+).*$/,"$1"));f.browser=="Firefox"&&(window.clientInformation||!window.u2f)&&(f.browser+=" Nightly");f.browser=="Edge"?f.engine=f.version>"75"?"Blink":"EdgeHTML":e.Chrome&&f.engine=="WebKit"&&parseInt(a.Chrome())>27?f.engine="Blink":f.browser=="Opera"&&parseInt(f.version)>12?f.engine="Blink":f.browser=="Yandex"&&(f.engine="Blink")}}),function(n){function r(t){return this.each(function(){var u=n(this),r=u.data(i.DATA_KEY),f=typeof t=="object"&&t;r?r.update(f):u.data(i.DATA_KEY,r=new i(this,f))})}var i=function(t,i){this.$element=n(t);this.options=n.extend({},i);this.init()},t;i.VERSION="5.1.0";i.Author="argo@163.com";i.DATA_KEY="lgb.SliderCaptcha";t=i.prototype;t.init=function(){this.initDOM();this.initImg();this.bindEvents()};t.initDOM=function(){var u=this.$element.find("canvas:first")[0].getContext("2d"),t=this.$element.find("canvas:last")[0],f=t.getContext("2d"),e=this.$element.find(".captcha-load"),i=this.$element.find(".captcha-footer"),o=i.find(".captcha-bar-bg"),s=this.$element.find(".captcha-bar"),r=this.$element.find(".captcha-bar-text"),h=this.$element.find(".captcha-refresh"),c=r.attr("data-text");n.extend(this,{canvas:u,block:t,bar:f,$load:e,$footer:i,$barLeft:o,$slider:s,$barText:r,$refresh:h,barText:c})};t.initImg=function(){var i=function(n,t){var i=this.options.sideLength,f=this.options.diameter,e=Math.PI,r=this.options.offsetX,u=this.options.offsetY;n.beginPath();n.moveTo(r,u);n.arc(r+i/2,u-f+2,f,.72*e,2.26*e);n.lineTo(r+i,u);n.arc(r+i+f-2,u+i/2,f,1.21*e,2.78*e);n.lineTo(r+i,u+i);n.lineTo(r,u+i);n.arc(r+f-2,u+i/2,f+.4,2.76*e,1.24*e,!0);n.lineTo(r,u);n.lineWidth=2;n.fillStyle="rgba(255, 255, 255, 0.7)";n.strokeStyle="rgba(255, 255, 255, 0.7)";n.stroke();n[t]();n.globalCompositeOperation="destination-over"},t=new Image,n;t.src=this.options.imageUrl;n=this;t.onload=function(){i.call(n,n.canvas,"fill");i.call(n,n.bar,"clip");n.canvas.drawImage(t,0,0,n.options.width,n.options.height);n.bar.drawImage(t,0,0,n.options.width,n.options.height);var r=n.options.offsetY-n.options.diameter*2-1,u=n.bar.getImageData(n.options.offsetX-3,r,n.options.barWidth,n.options.barWidth);n.block.width=n.options.barWidth;n.bar.putImageData(u,0,r)};t.onerror=function(){n.$load.text($load.attr("data-failed")).addClass("text-danger")}};t.bindEvents=function(){var n=this,t=0,i=0,r=[];this.$slider.drag(function(r){n.$barText.addClass("d-none");t=r.clientX||r.touches[0].clientX;i=r.clientY||r.touches[0].clientY},function(u){var o=u.clientX||u.touches[0].clientX,s=u.clientY||u.touches[0].clientY,f=o-t,h=s-i,e;if(f<0||f+40>n.options.width)return!1;n.$slider.css({left:f-1+"px"});e=(n.options.width-60)/(n.options.width-40)*f;n.block.style.left=e+"px";n.$footer.addClass("is-move");n.$barLeft.css({width:f+4+"px"});r.push(Math.round(h))},function(i){var f=i.clientX||i.changedTouches[0].clientX,u;n.$footer.removeClass("is-move");u=Math.ceil((n.options.width-60)/(n.options.width-40)*(f-t)+3);n.verify(u,r)});this.$refresh.on("click",function(){n.options.barText=n.$barText.attr("data-text")})};t.verify=function(n,t){var r=this.options.remoteObj.obj,u=this.options.remoteObj.method,i=this;r.invokeMethodAsync(u,n,t).then(function(n){n?(i.$footer.addClass("is-valid"),i.options.barText=i.$barText.attr("data-text")):(i.$footer.addClass("is-invalid"),setTimeout(function(){i.$refresh.trigger("click");i.options.barText=i.$barText.attr("data-try")},1e3))})};t.update=function(t){n.extend(this.options,t);this.resetCanvas();this.initImg();this.resetBar()};t.resetCanvas=function(){this.canvas.clearRect(0,0,this.options.width,this.options.height);this.bar.clearRect(0,0,this.options.width,this.options.height);this.block.width=this.options.width;this.block.style.left=0;this.$load.text(this.$load.attr("data-load")).removeClass("text-danger")};t.resetBar=function(){this.$footer.removeClass("is-invalid is-valid");this.$barText.text(this.options.barText).removeClass("d-none");this.$slider.css({left:"0px"});this.$barLeft.css({width:"0px"})};n.fn.sliderCaptcha=r;n.fn.sliderCaptcha.Constructor=i;n.extend({captcha:function(t,i,r,u){u.remoteObj={obj:i,method:r};n(t).sliderCaptcha(u)}})}(jQuery),function(n){n.isFunction(Date.prototype.format)||(Date.prototype.format=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));/(E+)/.test(n)&&(n=n.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[this.getDay()]));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length===1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n});n.browser={versions:function(){var n=navigator.userAgent;return{trident:n.indexOf("Trident")>-1,presto:n.indexOf("Presto")>-1,webKit:n.indexOf("AppleWebKit")>-1,gecko:n.indexOf("Gecko")>-1&&n.indexOf("KHTML")===-1,mobile:!!n.match(/AppleWebKit.*Mobile.*/),ios:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:n.indexOf("Android")>-1||n.indexOf("Linux")>-1,iPhone:n.indexOf("iPhone")>-1,iPod:n.indexOf("iPod")>-1,iPad:n.indexOf("iPad")>-1,mac:n.indexOf("Macintosh")>-1,webApp:n.indexOf("Safari")===-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};Array.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t]==n)return t;return-1};Array.prototype.remove=function(n){var t=this.indexOf(n);t>-1&&this.splice(t,1)};n.extend({format:function(t,i){return i===undefined||i===null?null:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)},getUID:function(n){n||(n="b");do n+=~~(Math.random()*1e6);while(document.getElementById(n));return n},webClient:function(t,i,r){var u={},f=new Browser;u.Browser=f.browser+" "+f.version;u.Os=f.os+" "+f.osVersion;u.Device=f.device;u.Language=f.language;u.Engine=f.engine;u.UserAgent=navigator.userAgent;n.ajax({type:"GET",url:i,success:function(n){t.invokeMethodAsync(r,n.Id,n.Ip,u.Os,u.Browser,u.Device,u.Language,u.Engine,u.UserAgent)},error:function(){console.error("Please add UseBootstrapBlazor middleware");t.invokeMethodAsync(r,"","",u.Os,u.Browser,u.Device,u.Language,u.Engine,u.UserAgent)}})}});n.fn.extend({drag:function(t,i,r){var u=n(this),o=function(i){i.stopPropagation();document.addEventListener("mousemove",f);document.addEventListener("touchmove",f);document.addEventListener("mouseup",e);document.addEventListener("touchend",e);n.isFunction(t)&&t.call(u,i)},f=function(t){n.isFunction(i)&&i.call(u,t)},e=function(t){n.isFunction(r)&&r.call(u,t);window.setTimeout(function(){document.removeEventListener("mousemove",f);document.removeEventListener("touchmove",f);document.removeEventListener("mouseup",e);document.removeEventListener("touchend",e)},100)};u.on("mousedown",o);u.on("touchstart",o)}})}(jQuery),function(n){function i(i){return this.each(function(){var r=n(this),u=r.data(t.DATA_KEY),f=typeof i=="object"&&i;u||r.data(t.DATA_KEY,u=new t(this,f))})}var t=function(t,i){this.$element=n(t);var u=this._getColSpan(this.$element),f=this.$element.data("type"),r=parseInt(this.$element.data("items"));isNaN(r)&&(r=12);this.options=n.extend({rowType:f,itemsPerRow:r,colSpan:u},i);this.layout()};t.VERSION="5.1.0";t.Author="argo@163.com";t.DATA_KEY="lgb.grid";n.extend(t.prototype,{layout:function(){this._layout_column(null);this.$element.removeClass("d-none")},_layout_column:function(t){var e=this.$element,o=this.options.rowType,s=this.options.itemsPerRow,f=!1,i=null,r=this,u=n('<div class="row g-3"><\/div>');o==="inline"&&u.addClass("form-inline");e.children().each(function(e,o){var s=n(o),c=s.data("toggle")==="row",h=r._getColSpan(s);c?n("<div><\/div>").addClass(r._calc(h)).appendTo(u).append(s):(f=s.prop("tagName")==="LABEL",f?(i===null&&(i=n("<div><\/div>").addClass(r._calc(h))),i.append(s)):(f=!1,i==null&&(i=n("<div><\/div>").addClass(r._calc(h))),i.append(s),t==null?i.appendTo(u):i.appendTo(t),i=null))});t==null&&e.append(u)},_layout_parent_row:function(){var t=this.$element.data("target"),i=n('[data-uid="'+t+'"]'),r=n('<div class="row"><\/div>').appendTo(i);this._layout_column(r)},_calc:function(n){var t=this.options.itemsPerRow,i;return n>0&&(t=t*n),i="col-12",t!==12&&(i="col-12 col-sm-"+t),i},_getColSpan:function(n){var t=parseInt(n.data("colspan"));return isNaN(t)&&(t=0),t}});n.fn.grid=i;n.fn.grid.Constructor=t}(jQuery),function(n){function r(i){return this.each(function(){var u=n(this),r=u.data(t.DATA_KEY),f=typeof i=="object"&&i;r||u.data(t.DATA_KEY,r=new t(this,f));typeof i=="string"&&/active/.test(i)&&r[i].apply(r)})}var t=function(t,i){this.$element=n(t);this.$header=this.$element.find(".tabs-header");this.$wrap=this.$header.find(".tabs-nav-wrap");this.$scroll=this.$wrap.find(".tabs-nav-scroll");this.$tab=this.$scroll.find(".tabs-nav");this.options=n.extend({},i);this.init()},i;t.VERSION="5.1.0";t.Author="argo@163.com";t.DATA_KEY="lgb.Tab";i=t.prototype;i.init=function(){var t=this;n(window).on("resize",function(){t.resize()});this.active()};i.fixSize=function(){var n=this.$element.height(),t=this.$element.width();this.$element.css({height:n+"px",width:t+"px"})};i.resize=function(){var n,t,i,r,u;this.vertical=this.$element.hasClass("tabs-left")||this.$element.hasClass("tabs-right");this.horizontal=this.$element.hasClass("tabs-top")||this.$element.hasClass("tabs-bottom");n=this.$tab.find(".tabs-item:last");n.length>0&&(this.vertical?(this.$wrap.css({height:this.$element.height()+"px"}),t=this.$tab.height(),i=n.position().top+n.outerHeight(),i<t?this.$wrap.removeClass("is-scrollable"):this.$wrap.addClass("is-scrollable")):(this.$wrap.removeAttr("style"),r=this.$tab.width(),u=n.position().left+n.outerWidth(),u<r?this.$wrap.removeClass("is-scrollable"):this.$wrap.addClass("is-scrollable")))};i.active=function(){var r,n,f,o,c,l;if(this.resize(),r=this.$element.find(".tabs-active-bar"),n=this.$element.find(".tabs-item.active"),n.length!==0)if(this.vertical){var u=n.position().top,a=u+n.outerHeight(),t=this.$scroll.scrollTop(),v=this.$scroll.outerHeight(),s=a-t-v;s>0?this.$scroll.scrollTop(t+s):(f=u-t,f<0&&this.$scroll.scrollTop(t+f));r.css({width:"2px",transform:"translateY("+u+"px)"})}else{var e=n.position().left,y=e+n.outerWidth(),i=this.$scroll.scrollLeft(),p=this.$scroll.width(),h=y-i-p;h>0?this.$scroll.scrollLeft(i+h):(o=e-i,o<0&&this.$scroll.scrollLeft(i+o));c=n.width();l=e+parseInt(n.css("paddingLeft"));r.css({width:c+"px",transform:"translateX("+l+"px)"})}};n.fn.lgbTab=r;n.fn.lgbTab.Constructor=t}(jQuery),function(n){n.extend({bb_anchor:function(t){var i=n(t);i.on("click",function(t){var f,u,r,e,o;t.preventDefault();f=n(i.data("target"));u=i.data("container");u||(u=window);r=f.offset().top;e=f.css("marginTop").replace("px","");e&&(r=r-parseInt(e));o=i.data("offset");o&&(r=r-parseInt(o));n(u).scrollTop(r)})}})}(jQuery),function(n){n.extend({bb_copyText:function(n){if(navigator.clipboard)navigator.clipboard.writeText(n);else{if(typeof n!="string")return!1;var t=document.createElement("input");t.setAttribute("type","text");t.setAttribute("value",n);document.body.appendChild(t);t.select();document.execCommand("copy");document.body.removeChild(t)}}});n(function(){n(document).on("click",".anchor-link",function(){var t=n(this),i=t.attr("id"),r,u,f;i&&(r=t.attr("data-title"),u=window.location.origin+window.location.pathname+"#"+i,n.bb_copyText(u),t.tooltip({title:r}),t.tooltip("show"),f=window.setTimeout(function(){window.clearTimeout(f);t.tooltip("dispose")},1e3))})})}(jQuery),function(n){n.extend({bb_autoScrollItem:function(t,i){var o=n(t),r=o.find(".dropdown-list"),e=parseInt(r.css("max-height").replace("px",""))/2,u=r.children("li:first").outerHeight(),s=u*i,f=Math.floor(e/u);r.children().removeClass("active");r.children()[i].classList.add("active");s>e?r.scrollTop(u*(i>f?i-f:i)):i<=f&&r.scrollTop(0)},bb_setDebounce:function(t,i){var f=n(t),u;let r;u=["ArrowUp","ArrowDown","Escape","Enter"];f.on("keyup",function(n){u.indexOf(n.key)<1&&r?(clearTimeout(r),n.stopPropagation(),r=setTimeout(function(){r=null;n.target.dispatchEvent(n.originalEvent)},i)):r=setTimeout(function(){},i)})}})}(jQuery),function(n){n.extend({bb_auto_redirect:function(t,i,r){var u={},f=1,e=window.setInterval(function(){n(document).off("mousemove").one("mousemove",function(n){(u.screenX!==n.screenX||u.screenY!==n.screenY)&&(u.screenX=n.screenX,u.screenY=n.screenY,f=1)});n(document).off("keydown").one("keydown",function(){f=1})},1e3),o=window.setInterval(function(){f++>i&&(window.clearInterval(o),window.clearInterval(e),t.invokeMethodAsync(r))},1e3)}})}(jQuery),function(n){n.extend({bb_vibrate:function(){if("vibrate"in window.navigator){window.navigator.vibrate([200,100,200]);var n=window.setTimeout(function(){window.clearTimeout(n);window.navigator.vibrate([])},1e3)}},bb_barcode:function(t,i,r,u){var f=n(t),e=new ZXing.BrowserMultiFormatReader;if(r==="dispose"){e.reset();return}f.attr("data-scan")==="Camera"&&e.getVideoInputDevices().then(n=>{i.invokeMethodAsync("InitDevices",n).then(()=>{if(u&&n.length>0){var t=f.find('button[data-method="scan"]'),i=f.attr("data-scan");i==="Camera"&&t.trigger("click")}})});f.on("click","button[data-method]",function(){var r=n(this).attr("data-method"),o,s,u,t;if(r==="scan")i.invokeMethodAsync("Start"),o=f.find(".dropdown-item.active").attr("data-val"),s=f.find("video").attr("id"),e.decodeFromVideoDevice(o,s,(t,r)=>{if(t){n.bb_vibrate();console.log(t.text);i.invokeMethodAsync("GetResult",t.text);var u=f.attr("data-autostop")==="true";u&&e.reset()}!r||r instanceof ZXing.NotFoundException||(console.error(r),i.invokeMethodAsync("GetError",r))});else if(r==="scanImage"){e=new ZXing.BrowserMultiFormatReader;f.find(":file").remove();u=n(".scanner-image");t=n('<input type="file" hidden accept="image/*">');f.append(t);t.on("change",function(){if(this.files.length!==0){var t=new FileReader;t.onloadend=function(t){u.attr("src",t.target.result);e.decodeFromImage(u[0]).then(t=>{t&&(n.bb_vibrate(),console.log(t.text),i.invokeMethodAsync("GetResult",t.text))}).catch(n=>{n&&(console.log(n),i.invokeMethodAsync("GetError",n.message))})};t.readAsDataURL(this.files[0])}});t.trigger("click")}else r==="close"&&(e.reset(),i.invokeMethodAsync("Stop"))})}})}(jQuery),function(n){n.extend({bb_camera:function(t,i,r,u){var f=n(t),o=function(n,t){n.pause();n.srcObject=null;t.stop()},s,e;if(r==="stop"){s=f.find("video")[0];e=f.data("bb_video_track");e&&o(s,e);return}navigator.mediaDevices.enumerateDevices().then(function(t){var s=t.filter(function(n){return n.kind==="videoinput"});i.invokeMethodAsync("InitDevices",s).then(()=>{u&&s.length>0&&f.find('button[data-method="play"]').trigger("click")});var r=f.find("video")[0],h=f.find("canvas")[0],c=h.getContext("2d"),e;f.on("click","button[data-method]",async function(){var s=n(this).attr("data-method"),t,l,u;if(s==="play"){var y=n(this).attr("data-camera"),a=f.find(".dropdown-item.active").attr("data-val"),v={video:{facingMode:y},audio:!1};a!==""&&(v.video.deviceId={exact:a});navigator.mediaDevices.getUserMedia(v).then(n=>{r.srcObject=n,r.play(),e=n.getTracks()[0],f.data("bb_video_track",e),i.invokeMethodAsync("Start")}).catch(n=>{console.log(n),i.invokeMethodAsync("GetError",n.message)})}else if(s==="stop")o(r,e),i.invokeMethodAsync("Stop");else if(s==="capture"){for(c.drawImage(r,0,0,300,200),t=h.toDataURL(),l=30720;t.length>l;)u=t.substr(0,l),console.log(u),await i.invokeMethodAsync("Capture",u),t=t.substr(u.length);t.length>0&&await i.invokeMethodAsync("Capture",t);await i.invokeMethodAsync("Capture","__BB__%END%__BB__")}})})}})}(jQuery),function(n){n.extend({bb_card_collapse:function(t){var i=n(t);i.on("click",function(){var i=n(this).toggleClass("is-open"),t=i.closest(".card").find(".card-body");t.length===1&&(t.is(":hidden")&&t.parent().toggleClass("collapsed"),t.slideToggle("fade",function(){var t=n(this);t.is(":hidden")&&t.parent().toggleClass("collapsed")}))})}})}(jQuery),function(n){n.extend({bb_carousel:function(t){var r=n(t).carousel(),i=null;r.hover(function(){var t,r,u;i!=null&&window.clearTimeout(i);t=n(this);r=t.find("[data-bs-slide]");r.removeClass("d-none");u=window.setTimeout(function(){window.clearTimeout(u);t.addClass("hover")},10)},function(){var t=n(this),r=t.find("[data-bs-slide]");t.removeClass("hover");i=window.setTimeout(function(){window.clearTimeout(i);r.addClass("d-none")},300)})}})}(jQuery),function(n){n.extend({bb_collapse:function(t){var i=n(t),r=null;i.hasClass("is-accordion")&&(r="["+t.getAttributeNames().pop()+"]");n.each(i.children(".accordion-item"),function(){var u=n(this),i=u.children(".accordion-collapse"),t=i.attr("id"),f;t||(t=n.getUID(),i.attr("id",t),r!=null&&i.attr("data-bs-parent",r),f=u.find('[data-bs-toggle="collapse"]'),f.attr("data-bs-target","#"+t).attr("aria-controls",t))});i.find(".tree .tree-item > .fa").on("click",function(){var t=n(this).parent();t.find('[data-bs-toggle="collapse"]').trigger("click")});if(i.parent().hasClass("menu"))i.on("click",".nav-link:not(.collapse)",function(){var r=n(this),t;for(i.find(".active").removeClass("active"),r.addClass("active"),t=r.closest(".accordion");t.length>0;)t.children(".accordion-header").find(".nav-link").addClass("active"),t=t.parent().closest(".accordion")})}})}(jQuery),function(n){n.extend({bb_console:function(t){var u=n(t),i=u.find('[data-scroll="auto"]'),r;i.length>0&&(r=i.find(".console-window"),i.scrollTop(r.height()))}})}(jQuery),function(n){n.extend({bb_timePicker:function(t){var i=n(t);return i.find(".time-spinner-item").height()},bb_timecell:function(t,i,r,u){var f=n(t);f.find(".time-spinner-list").on("mousewheel wheel",function(n){var t=n.originalEvent.wheelDeltaY||-n.originalEvent.deltaY;return t>0?i.invokeMethodAsync(r):i.invokeMethodAsync(u),!1})}})}(jQuery),function(n){n.extend({bb_form_load:function(t,i){var r=n(t);i==="show"?r.addClass("show"):r.removeClass("show")}})}(jQuery),function(n){n.extend({bb_download_wasm:function(n,t,i){var u=BINDING.conv_string(n),e=BINDING.conv_string(t),o=Blazor.platform.toUint8Array(i),s=new File([o],u,{type:e}),f=URL.createObjectURL(s),r=document.createElement("a");document.body.appendChild(r);r.href=f;r.download=u;r.target="_self";r.click();URL.revokeObjectURL(f)},bb_download:function(t,i,r){var f=n.bb_create_url(t,i,r),u=document.createElement("a");document.body.appendChild(u);u.href=f;u.download=t;u.target="_self";u.click();URL.revokeObjectURL(f)},bb_create_url_wasm:function(n,t,i){var r=BINDING.conv_string(n),u=BINDING.conv_string(t),f=Blazor.platform.toUint8Array(i),e=new File([f],r,{type:u});return URL.createObjectURL(e)},bb_create_url:function(t,i,r){typeof r=="string"&&(r=n.base64DecToArr(r));var u=r,f=new File([u],t,{type:i});return URL.createObjectURL(f)},b64ToUint6:function(n){return n>64&&n<91?n-65:n>96&&n<123?n-71:n>47&&n<58?n+4:n===43?62:n===47?63:0},base64DecToArr:function(t,i){for(var h=t.replace(/[^A-Za-z0-9\+\/]/g,""),u=h.length,c=i?Math.ceil((u*3+1>>2)/i)*i:u*3+1>>2,l=new Uint8Array(c),f,e,o=0,s=0,r=0;r<u;r++)if(e=r&3,o|=n.b64ToUint6(h.charCodeAt(r))<<18-6*e,e===3||u-r==1){for(f=0;f<3&&s<c;f++,s++)l[s]=o>>>(16>>>f&24)&255;o=0}return l}})}(jQuery),function(n){n.extend({bb_drawer:function(t,i){var r=n(t),u;i?(r.addClass("is-open"),n("body").addClass("overflow-hidden")):r.hasClass("is-open")&&(r.removeClass("is-open").addClass("is-close"),u=window.setTimeout(function(){window.clearTimeout(u);r.removeClass("is-close");n("body").removeClass("overflow-hidden")},350))}})}(jQuery),function(n){n.extend({bb_html5edit:function(t,i){if(n.isFunction(n.fn.summernote)){var r=n(t),u=typeof i=="object"&&i;return/destroy|hide/.test(i)?r.toggleClass("open").summernote(i):typeof i=="string"?r.hasClass("open")?r.summernote(i):r.html():(u=n.extend({focus:!0,lang:"zh-CN",height:80,dialogsInBody:!0},u),r.on("click",u,function(t,i){var u=n(this).tooltip("hide"),r=n.extend({placeholder:u.attr("placeholder")},t.data,i||{});r.obj.invokeMethodAsync("GetToolBar").then(t=>{var i=u.toggleClass("open").summernote(n.extend({callbacks:{onChange:function(n){r.obj.invokeMethodAsync(r.method,n)}},toolbar:t},r)).next().find(".note-toolbar").on("click","button[data-method]",{note:u,op:r},function(t){var r=n(this),i,u;switch(r.attr("data-method")){case"submit":r.tooltip("dispose");i=t.data.note.toggleClass("open");u=i.summernote("code");i.summernote("destroy");t.data.op.obj.invokeMethodAsync(t.data.op.method,u)}}),f=n('<div class="note-btn-group btn-group note-view note-right"><button type="button" class="note-btn btn btn-sm note-btn-close" tabindex="-1" data-method="submit" title="完成" data-bs-placement="bottom"><i class="fa fa-check"><\/i><\/button><\/div>').appendTo(i).find("button").tooltip({container:"body"});n("body").find('.note-group-select-from-files [accept="image/*"]').attr("accept","image/bmp,image/png,image/jpg,image/jpeg,image/gif")})}).tooltip({title:"点击展开编辑"}),u.value&&r.html(u.value),r.hasClass("open")&&r.trigger("click",{focus:!1}),this)}},bb_editor:function(t,i,r,u,f,e,o){var s=function(){var r=t.getElementsByClassName("editor-body"),u;i==="code"?n(r).hasClass("open")?n(r).summernote("code",o):n(r).html(o):(u={obj:i,method:f,height:e},o&&(u.value=o),n.bb_html5edit(r,u))};r!==""?i.invokeMethodAsync(r).then(t=>{for(var r in t)(function(t,r){r!=null&&(pluginObj={},pluginObj[r]=function(f){var e=n.summernote.ui;f.memo("button."+r,function(){var n=e.button({contents:'<i class="'+t.iconClass+'"><\/i>',container:"body",tooltip:t.tooltip,click:function(){i.invokeMethodAsync(u,r).then(n=>{f.invoke("editor.pasteHTML",n)})}});return this.$button=n.render(),this.$button})},n.extend(n.summernote.plugins,pluginObj))})(t[r],t[r].buttonName);s()}):s()}})}(jQuery),function(n){n.extend({bb_filter:function(t,i,r){n(t).data("bb_filter",{obj:i,method:r})}});n(function(){n(document).on("click",function(t){var i=n(t.target),r=i.closest(".popover-datetime"),u,f,e;r.length==1&&(u=r.attr("id"),f=n('[aria-describedby="'+u+'"]'),f.closest(".datetime-picker").hasClass("is-filter"))||(e=i.closest(".table-filter-item"),e.length==0&&n(".table-filter-item.show").each(function(){var t=n(this).data("bb_filter");t.obj.invokeMethodAsync(t.method)}))});n(document).on("keyup",function(t){var i,r;t.key==="Enter"?(i=n(".table-filter .table-filter-item.show:first"),r=i.data("bb_filter"),r&&(i.removeClass("show"),r.obj.invokeMethodAsync("ConfirmByKey"))):t.key==="Escape"&&(i=n(".table-filter .table-filter-item.show:first"),r=i.data("bb_filter"),r&&(i.removeClass("show"),r.obj.invokeMethodAsync("EscByKey")))})})}(jQuery),function(n){n.extend({bb_toggleFullscreen:function(t,i){var r=t;r&&r!==""||(r=i?document.getElementById(i):document.documentElement);n.bb_IsFullscreen()?(n.bb_ExitFullscreen(),r.classList.remove("fs-open")):(n.bb_Fullscreen(r),r.classList.add("fs-open"))},bb_Fullscreen:function(n){n.requestFullscreen()||n.webkitRequestFullscreen||n.mozRequestFullScreen||n.msRequestFullscreen},bb_ExitFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},bb_IsFullscreen:function(){return document.fullscreen||document.webkitIsFullScreen||document.webkitFullScreen||document.mozFullScreen||document.msFullScreent}})}(jQuery),function(n){n.extend({bb_gotop:function(t,i){var r=n(t),u=r.tooltip();r.on("click",function(t){t.preventDefault();n(i||window).scrollTop(0);u.tooltip("hide")})}})}(jQuery),function(n){n.extend({bb_handwritten:function(n,t,i,r){function u(n){var i,f,e;this.linewidth=1;this.color="#000000";this.background="#fff";for(i in n)this[i]=n[i];this.canvas=document.createElement("canvas");this.el.appendChild(this.canvas);this.cxt=this.canvas.getContext("2d");this.canvas.clientTop=this.el.clientWidth;this.canvas.width=this.el.clientWidth;this.canvas.height=this.el.clientHeight;this.cxt.fillStyle=this.background;this.cxt.fillRect(2,2,this.canvas.width,this.canvas.height);this.cxt.fillStyle=this.background;this.cxt.strokeStyle=this.color;this.cxt.lineWidth=this.linewidth;this.cxt.lineCap="round";var t="ontouchend"in window,s=this,u=!1,o=function(n){u=!0;this.cxt.beginPath();var i=n.target.offsetParent.offsetLeft,r=n.target.offsetParent.offsetTop;t?this.cxt.moveTo(n.changedTouches[0].pageX+2-i,n.changedTouches[0].pageY+2-r):this.cxt.moveTo(n.pageX+2-i,n.pageY+2-r)};t?this.canvas.addEventListener("touchstart",o.bind(this),!1):this.canvas.addEventListener("mousedown",o.bind(this),!1);f=function(n){if(u){var i=n.target.offsetParent.offsetLeft,r=n.target.offsetParent.offsetTop;t?this.cxt.lineTo(n.changedTouches[0].pageX+2-i,n.changedTouches[0].pageY+2-r):this.cxt.lineTo(n.pageX+2-i,n.pageY+2-r);this.cxt.stroke()}};t?this.canvas.addEventListener("touchmove",f.bind(this),!1):this.canvas.addEventListener("mousedown",f.bind(this),!1);e=function(){u=!1;this.cxt.closePath()};t?this.canvas.addEventListener("touchend",e.bind(this),!1):this.canvas.addEventListener("mousedown",e.bind(this),!1);this.clearEl.addEventListener("click",function(){this.cxt.clearRect(2,2,this.canvas.width,this.canvas.height)}.bind(this),!1);this.saveEl.addEventListener("click",function(){var n=this.canvas.toDataURL();return this.obj.invokeMethodAsync(r,n)}.bind(this),!1)}document.body.addEventListener("touchmove",function(n){n.preventDefault()},{passive:!1});new u({el:n.getElementsByClassName("hw-body")[0],clearEl:n.getElementsByClassName("btn-secondary")[0],saveEl:n.getElementsByClassName("btn-primary")[0],obj:t})}})}(jQuery),function(n){n.extend({bb_input:function(t,i,r,u,f,e){var o=n(t);o.on("keyup",function(n){r&&n.key==="Enter"?i.invokeMethodAsync(u):f&&n.key==="Escape"&&i.invokeMethodAsync(e,o.val())})},bb_input_selectAll:function(t){var i=n(t);i.on("focus",function(){n(this).select()})}})}(jQuery),function(n){var u=function(t){var i=this;t!==undefined?i.prevValues[t]=n(n(i).find(".ipv4-cell")[t]).val():n(i).find(".ipv4-cell").each(function(t,r){i.prevValues[t]=n(r).val()})},i=function(t){var i=this;t!==undefined?n(n(i).find(".ipv4-cell")[t]).val(i.prevValues[t]):n(i).find(".ipv4-cell").each(function(t,r){n(r).val(i.prevValues)})},t=function(t){var i=this;t===undefined&&t<0&&t>3||n(n(i).find(".ipv4-cell")[t]).focus()},f=function(n){if(typeof n!="string")return!1;var t=n.split(".");return t.length!==4?!1:t.reduce(function(n,t){return n===!1||t.length===0?!1:Number(t)>=0&&Number(t)<=255?!0:!1},!0)},e=function(){var t="";return this.find(".ipv4-cell").each(function(i,r){t+=i==0?n(r).val():"."+n(r).val()}),t},r=function(){var n=this,t,i;if("selectionStart"in n)return n.selectionStart;if(document.selection)return n.focus(),t=document.selection.createRange(),i=document.selection.createRange().text.length,t.moveStart("character",-n.value.length),t.text.length-i;throw new Error("cell is not an input");};n.extend({bb_ipv4_input:function(f){var e=n(f);f.prevValues=[];e.find(".ipv4-cell").focus(function(){n(this).select();e.toggleClass("selected",!0)});e.find(".ipv4-cell").focusout(function(){e.toggleClass("selected",!1)});e.find(".ipv4-cell").each(function(e,o){n(o).keydown(function(i){i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105?u.call(f,e):i.keyCode==37||i.keyCode==39?i.keyCode==37&&r.call(o)===0?(t.call(f,e-1),i.preventDefault()):i.keyCode==39&&r.call(o)===n(o).val().length&&(t.call(f,e+1),i.preventDefault()):i.keyCode==9||i.keyCode==8||i.keyCode==46||i.preventDefault()});n(o).keyup(function(r){var u,s,o;(r.keyCode>=48&&r.keyCode<=57||r.keyCode>=96&&r.keyCode<=105)&&(u=n(this).val(),s=Number(u),s>255?i.call(f,e):u.length>1&&u[0]==="0"?i.call(f,e):u.length===3&&t.call(f,e+1));r.key==="Backspace"&&n(this).val()===""&&(n(this).val("0"),o=e-1,o>-1?t.call(f,o):t.call(f,0));r.key==="."&&t.call(f,e+1);r.key==="ArrowRight"&&t.call(f,e+1);r.key==="ArrowLeft"&&t.call(f,e-1)})})}})}(jQuery),function(n){var e=function(t){var i=this;t!==undefined?i.prevValues[t]=n(n(i).find(".ipv4-cell")[t]).val():n(i).find(".ipv4-cell").each(function(t,r){i.prevValues[t]=n(r).val()})},i=function(t){var i=this;t!==undefined?n(n(i).find(".ipv4-cell")[t]).val(i.prevValues[t]):n(i).find(".ipv4-cell").each(function(t,r){n(r).val(i.prevValues)})},t=function(t){var i=this;t===undefined&&t<0&&t>3||n(n(i).find(".ipv4-cell")[t]).focus()},r=function(n){if(typeof n!="string")return!1;var t=n.split(".");return t.length!==4?!1:t.reduce(function(n,t){return n===!1||t.length===0?!1:Number(t)>=0&&Number(t)<=255?!0:!1},!0)},u=function(){var t="";return this.find(".ipv4-cell").each(function(i,r){t+=i==0?n(r).val():"."+n(r).val()}),t},f=function(){var n=this,t,i;if("selectionStart"in n)return n.selectionStart;if(document.selection)return n.focus(),t=document.selection.createRange(),i=document.selection.createRange().text.length,t.moveStart("character",-n.value.length),t.text.length-i;throw new Error("cell is not an input");};n.fn.ipv4_input=function(o,s){var h,c,a,l;if(this.each(function(){if(!n(this).hasClass("ipv4-input")){var r=this;r.prevValues=[];n(r).toggleClass("ipv4-input",!0);n(r).html('<input type="text" class="ipv4-cell" /><label class="ipv4-dot">.<\/label><input type="text" class="ipv4-cell" /><label class="ipv4-dot">.<\/label><input type="text" class="ipv4-cell" /><label class="ipv4-dot">.<\/label><input type="text" class="ipv4-cell" />');n(this).find(".ipv4-cell").focus(function(){n(this).select();n(r).toggleClass("selected",!0)});n(this).find(".ipv4-cell").focusout(function(){n(r).toggleClass("selected",!1)});n(this).find(".ipv4-cell").each(function(u,o){n(o).keydown(function(i){i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105?e.call(r,u):i.keyCode==37||i.keyCode==39?i.keyCode==37&&f.call(o)===0?(t.call(r,u-1),i.preventDefault()):i.keyCode==39&&f.call(o)===n(o).val().length&&(t.call(r,u+1),i.preventDefault()):i.keyCode!=9&&i.keyCode!=8&&i.keyCode!=46&&i.preventDefault()});n(o).keyup(function(f){if(f.keyCode>=48&&f.keyCode<=57||f.keyCode>=96&&f.keyCode<=105){var e=n(this).val(),o=Number(e);o>255?i.call(r,u):e.length>1&&e[0]==="0"?i.call(r,u):e.length===3&&t.call(r,u+1)}})})}}),h=function(t,i){if(t=="rwd"&&(i===undefined?this.toggleClass("rwd"):this.toggleClass("rwd",i)),t=="value"){if(i===undefined)return u.call(this);if(!r(i))throw new Error("invalid ip address");var f=i.split(".");this.find(".ipv4-cell").each(function(t,i){n(i).val(f[t])})}return t=="valid"?r(u.call(this)):(t=="clear"&&this.find(".ipv4-cell").each(function(t,i){n(i).val("")}),this)},c=this,n.type(o)==="object"){a=o;for(l in a)h.call(this,l,o[l])}else c=h.call(this,o,s);return c}}(jQuery),function(n){n.extend({bb_layout:function(t,i){if(i==="dispose"){n(window).off("resize");return}var r=function(){var r=n(window).width();t.invokeMethodAsync(i,r)};n(".layout-header").find('[data-bs-toggle="tooltip"]').tooltip();r();n(window).on("resize",function(){r()})}})}(jQuery),function(n){n.extend({bb_side_menu_expand:function(t,i){if(i)n(t).find(".collapse").collapse("show");else{n(t).find(".collapse").collapse("hide");var r=window.setTimeout(function(){window.clearTimeout(r);n.bb_auto_expand(n(t))},400)}},bb_auto_expand:function(t){var u=t.find(".nav-link.expand").map(function(t,i){return n(i).removeClass("expand")}).toArray(),i=t.find(".active"),r;do r=i.parentsUntil(".submenu.collapse").parent(),r.length===1&&r.not(".show")?(i=r.prev(),i.length!==0&&u.push(i)):i=null;while(i!=null&&i.length>0);while(u.length>0)i=u.shift(),i[0].click()},bb_init_side_menu:function(t){var i=t.hasClass("accordion"),r=t.children(".submenu"),u;r.find(".submenu").each(function(){var t=n(this),r,f,e,u;t.addClass("collapse").removeClass("d-none");i?(r=t.parentsUntil(".submenu"),r.prop("nodeName")==="LI"&&(f=r.parent().attr("id"),t.attr("data-bs-parent","#"+f))):t.removeAttr("data-bs-parent");e=t.attr("id");u=t.prev();u.attr("data-bs-toggle","collapse");u.attr("href","#"+e)});i&&(u=r.find(".collapse"),u.each(function(t,r){var u=n(r),f;bootstrap.Collapse.getInstance(r)&&u.collapse("dispose");f="";i&&(f=u.attr("data-bs-parent"));u.collapse({parent:f,toggle:!1})}))},bb_side_menu:function(t){var i=n(t);n.bb_init_side_menu(i);n.bb_auto_expand(i)}});n(function(){n(document).on("click",'.menu a[href="#"]',function(){return!1})})}(jQuery),function(n){n.extend({bb_message:function(t,i,r){window.Messages||(window.Messages=[]);Messages.push(t);var u=n(t),e=u.attr("data-autohide")!=="false",o=parseInt(u.attr("data-delay")),f=null,s=window.setTimeout(function(){window.clearTimeout(s);e&&(f=window.setTimeout(function(){window.clearTimeout(f);u.close()},o));u.addClass("show")},50);u.close=function(){f!=null&&window.clearTimeout(f);u.removeClass("show");var n=window.setTimeout(function(){window.clearTimeout(n);Messages.remove(t);Messages.length===0&&i.invokeMethodAsync(r)},500)};u.on("click",".btn-close",function(n){n.preventDefault();n.stopPropagation();u.close()})}})}(jQuery),function(n){n.extend({bb_modal_dialog:function(t,i,r){var u=n(t);u.data("bb_dotnet_invoker",{obj:i,method:r})},bb_modal:function(t,i){var u=n(t),l,o;if(i==="dispose")u.remove();else if(i==="init"){if(u.closest(".swal").length===0){n("body").append(u);var s=0,h=0,e=0,c=0,f={top:0,left:0},r=null;u.find(".is-draggable .modal-header").drag(function(n){s=n.clientX||n.touches[0].clientX;h=n.clientY||n.touches[0].clientY;r=this.closest(".modal-dialog");e=r.width();c=r.height();f.top=parseInt(r.css("marginTop").replace("px",""));f.left=parseInt(r.css("marginLeft").replace("px",""));r.css({marginLeft:f.left,marginTop:f.top});r.removeClass("modal-dialog-centered");r.css("width",e);this.addClass("is-drag")},function(t){var i=t.clientX||t.changedTouches[0].clientX,u=t.clientY||t.changedTouches[0].clientY;newValX=f.left+Math.ceil(i-s);newValY=f.top+Math.ceil(u-h);newValX<=0&&(newValX=0);newValY<=0&&(newValY=0);newValX+e<n(window).width()&&r!=null&&r.css({marginLeft:newValX});newValY+c<n(window).height()&&r!=null&&r.css({marginTop:newValY})},function(){this.removeClass("is-drag")})}u.on("shown.bs.modal",function(){var t=u.attr("data-bs-keyboard")==="true";if(t===!0)n(document).one("keyup",function(n){if(n.key==="Escape"){var i=u.find(".modal-dialog"),t=i.data("bb_dotnet_invoker");t!=null&&t.obj.invokeMethodAsync(t.method)}})})}else i!=="hide"&&i!=="dispose"&&(l=u.attr("data-bs-keyboard")==="true",o=bootstrap.Modal.getInstance(t),o!=null&&(o._config.keyboard=l)),u.modal(i)}})}(jQuery),function(n){n.extend({bb_confirm:function(t){var f=n('[data-bs-target="'+t+'"]'),r="is-show",i=document.getElementById(t),u=bootstrap.Popover.getOrCreateInstance(i,{toggle:"confirm",html:!0,sanitize:!1,content:f.find(".popover-body").html()});i.classList.contains(r)===!1?(u.show(),i.classList.add(r)):(u.hide(),i.classList.remove(r))},bb_confirm_submit:function(t){var r=n("#"+t),i=n('<button type="submit" hidden />');i.appendTo(r.parent());i.trigger("click");i.remove()},bb_popover:function(t,i,r,u,f,e,o){var h=document.getElementById(t),s=bootstrap.Popover.getInstance(h),c;s&&s.dispose();i!=="dispose"&&(c={html:e,sanitize:!1,title:r,content:u,placement:f,trigger:o},s==null&&(s=new bootstrap.Popover(h,c)),i!==""&&n(h).popover(i))},bb_datetimePicker:function(t,i){var r=n(t),f=r.attr("data-bs-placement")||"auto",u=r.find(".datetime-picker-input");if(i)u.popover(i);else{u.popover({toggle:"datetime-picker",placement:f}).on("show.bs.popover",function(){var t=n(this).parent().hasClass("disabled");return!t}).on("inserted.bs.popover",function(){var u=this.getAttribute("aria-describedby"),i,t;u&&(i=n("#"+u),t=i.find(".popover-body"),t.length===0&&(t=n('<div class="popover-body"><\/div>').appendTo(i)),t.append(r.find(".date-picker").removeClass("d-none")))}).on("hide.bs.popover",function(){var t=this.getAttribute("aria-describedby"),i,u;t&&(i=n("#"+t),u=i.find(".date-picker"),r.append(u.addClass("d-none")))});r.find(".datetime-picker-input-icon").on("click",function(t){if(!n(this).hasClass("disabled")){t.stopImmediatePropagation();var i=n(this).parents(".datetime-picker-bar").find(".datetime-picker-input");i.trigger("click")}});r.find(".date-table .cell").on("click",function(t){n(t.target).parent().parent().hasClass("disabled")&&(t.preventDefault(),t.stopImmediatePropagation())})}},bb_datetimeRange:function(t,i){var r=n(t),f=r.attr("data-bs-placement")||"auto",u=r.find(".datetime-range-bar");if(i)u.popover(i);else{u.popover({toggle:"datetime-range",placement:f}).on("show.bs.popover",function(){var t=n(this).parent().hasClass("disabled");return!t}).on("inserted.bs.popover",function(){var u=this.getAttribute("aria-describedby"),i,t;u&&(i=n("#"+u),t=i.find(".popover-body"),t.length===0&&(t=n('<div class="popover-body"><\/div>').appendTo(i)),t.append(r.find(".datetime-range-body").removeClass("d-none")))}).on("hide.bs.popover",function(){var t=this.getAttribute("aria-describedby"),i,u;t&&(i=n("#"+t),u=i.find(".datetime-range-body"),r.append(u.addClass("d-none")))});r.find(".is-clear").on("click",function(){u.popover("hide")})}}});n(function(){var r,t,i;n.fn.popover.Constructor.prototype.isWithContent=function(){var n=this._config.toggle;return["","confirm","datetime-picker","datetime-range"].indexOf(n)||this.getTitle()||this._getContent()};r=n.fn.popover.Constructor.prototype.getTipElement;n.fn.popover.Constructor.prototype.getTipElement=function(){var i=this._config.toggle,u=r.call(this),t=n(u).addClass("shadow");return t.find(".popover-header").length>0&&t.addClass("has-header"),i==="datetime-picker"&&t.addClass("popover-datetime"),i==="datetime-range"&&t.addClass("popover-datetime-range"),u};t=function(t){var i=null,r=t.parents(".popover"),u;return r.length>0&&(u=r.attr("id"),i=n('[aria-describedby="'+u+'"]')),i};i=function(n){n.popover("dispose");n.removeClass("is-show")};n(document).on("click",function(r){var e=!0,u=n(r.target),o=t(u),f;o!=null&&(e=!1);e&&(f=u,f.data("bs-toggle")!=="confirm"&&(f=f.parents('[data-bs-toggle="confirm"][aria-describedby^="popover"]')),n('[data-bs-toggle="confirm"][aria-describedby^="popover"]').each(function(t,r){if(f[0]!==r){var u=n(r);i(u)}}));u.parents(".popover-datetime.show").length===0&&n(".popover-datetime.show").each(function(){var t=this.getAttribute("id"),i;t&&(i=n('[aria-describedby="'+t+'"]'),u.attr("aria-describedby")!==t&&i.popover("hide"))});u.parents(".popover-datetime-range.show").length===0&&n(".popover-datetime-range.show").each(function(){var t=this.getAttribute("id"),i;t&&(i=n('[aria-describedby="'+t+'"]'),u.parents(".datetime-range-bar").attr("aria-describedby")!==t&&i.popover("hide"))})});n(document).on("click",".popover-confirm-buttons .btn",function(r){var u,f,e;r.stopPropagation();u=t(n(this));u.length>0&&(i(u),f=u.attr("id"),$ele=n('[data-bs-target="'+f+'"]'),e=this.getAttribute("data-dismiss")==="confirm"?$ele.find(".popover-confirm-buttons .btn:first"):$ele.find(".popover-confirm-buttons .btn:last"),e.trigger("click"))})})}(jQuery),function(n){n.extend({bb_printview:function(t){var r=n(t).parent(),f=r.hasClass("modal-header"),e=r.hasClass("modal-footer"),i=null;if(f?i=r.next():e&&(i=r.parentsUntil(".modal-content").parent().find(".modal-body")),i!=null&&i.length>0){var o=i.html(),u=n("body").addClass("bb-printview-open"),s=n("<div><\/div>").addClass("bb-printview").html(o).appendTo(u);window.print();u.removeClass("bb-printview-open");s.remove()}else window.print()}})}(jQuery),function(n){n.extend({bb_qrcode:function(t,i,r,u){var e=n(t),f=e.find(".qrcode-img");f.html("");r==="generate"&&(qrcode=new QRCode(f[0],{text:u,width:128,height:128,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}),i.invokeMethodAsync("Generated"))}})}(jQuery),function(n){n.extend({bb_rate:function(t,i,r){var u=n(t),f;u.val=parseInt(u.attr("aria-valuenow"));f=function(){var t=u.find(".rate-item");t.each(function(t){t>u.val?n(this).removeClass("is-on"):n(this).addClass("is-on")})};u.on("mouseenter",".rate-item",function(){if(!u.hasClass("disabled")){var t=u.find(".rate-item"),i=t.toArray().indexOf(this);t.each(function(t){t>i?n(this).removeClass("is-on"):n(this).addClass("is-on")})}});u.on("mouseleave",function(){u.hasClass("disabled")||f()});u.on("click",".rate-item",function(){if(!u.hasClass("disabled")){var n=u.find(".rate-item");u.val=n.toArray().indexOf(this);u.attr("aria-valuenow",u.val+1);i.invokeMethodAsync(r,u.val+1)}})}})}(jQuery),function(n){n.extend({bb_row:function(t){var i=n(t);i.grid()}})}(jQuery),function(n){n.extend({bb_multi_select:function(t,i,r){n(t).data("bb_multi_select",{obj:i,method:r})}});n(function(){n(document).on("click",function(t){var r=n(t.target),i=r.closest(".multi-select");n(".multi-select.show").each(function(){if(i.length===0||this!=i[0]){var t=n(this).data("bb_multi_select");t.obj.invokeMethodAsync(t.method)}})})})}(jQuery),function(n){n.extend({bb_select:function(t,i,r){var u=n(t),f=u.find("input.search-text");u.on("show.bs.dropdown",function(n){u.find(".form-select").prop("disabled")&&n.preventDefault()});u.on("shown.bs.dropdown",function(){f.length>0&&f.focus()});u.on("keyup",function(t){var e=n(this),f,u,o,s,h;e.find(".dropdown-toggle").hasClass("show")&&(f=e.find(".dropdown-menu.show > .dropdown-item").not(".disabled, .search"),u=f.filter(function(t,i){return n(i).hasClass("active")}),f.length>1&&(t.key==="ArrowUp"?(u.removeClass("active"),o=u.prev().not(".disabled, .search"),o.length===0&&(o=f.last()),o.addClass("active")):t.key==="ArrowDown"&&(u.removeClass("active"),s=u.next().not(".disabled, .search"),s.length===0&&(s=f.first()),s.addClass("active"))),t.key==="Enter"&&(e.find(".show").removeClass("show"),h=u.index(),e.find(".search").length>0&&h--,i.invokeMethodAsync(r,h)))});u.on("click",".dropdown-item.disabled",function(n){n.stopImmediatePropagation()})}})}(jQuery),function(n){n.extend({bb_slider:function(t,i,r){var f=n(t),s=f.find(".disabled").length>0;if(!s){var e=0,o=0,u=0,h=f.innerWidth();f.find(".slider-button-wrapper").drag(function(n){e=n.clientX||n.touches[0].clientX;o=parseInt(f.attr("aria-valuetext"));f.find(".slider-button-wrapper, .slider-button").addClass("dragging")},function(n){var t=n.clientX||n.changedTouches[0].clientX;u=Math.ceil((t-e)*100/h)+o;u<=0&&(u=0);u>=100&&(u=100);f.find(".slider-bar").css({width:u.toString()+"%"});f.find(".slider-button-wrapper").css({left:u.toString()+"%"});f.attr("aria-valuetext",u.toString());i.invokeMethodAsync(r,u)},function(){f.find(".slider-button-wrapper, .slider-button").removeClass("dragging");i.invokeMethodAsync(r,u)})}}})}(jQuery),function(n){n.extend({bb_split:function(t){var i=n(t),f=i.innerWidth(),e=i.innerHeight(),u=0,r=0,o=0,s=0,h=!i.children().hasClass("is-horizontal");i.children().children(".split-bar").drag(function(n){f=i.innerWidth();e=i.innerHeight();h?(s=n.clientY||n.touches[0].clientY,u=i.children().children(".split-left").innerHeight()*100/e):(o=n.clientX||n.touches[0].clientX,u=i.children().children(".split-left").innerWidth()*100/f);i.toggleClass("dragging")},function(n){var t,c;h?(t=n.clientY||n.changedTouches[0].clientY,r=Math.ceil((t-s)*100/e)+u):(c=n.clientX||n.changedTouches[0].clientX,r=Math.ceil((c-o)*100/f)+u);r<=0&&(r=0);r>=100&&(r=100);i.children().children(".split-left").css({"flex-basis":r.toString()+"%"});i.children().children(".split-right").css({"flex-basis":(100-r).toString()+"%"});i.attr("data-split",r)},function(){i.toggleClass("dragging")})}})}(jQuery),function(n){n.extend({bb_tab:function(t){var i=n(t),r=window.setInterval(function(){i.is(":visible")&&(window.clearInterval(r),i.lgbTab("active"))},200)}})}(jQuery),function(n){n.extend({bb_table_search:function(t,i,r,u){n(t).data("bb_table_search",{obj:i,searchMethod:r,clearSearchMethod:u})},bb_table_row_hover:function(t){var i=t.find(".table-excel-toolbar"),r=t.find("tbody > tr").each(function(t,r){n(r).hover(function(){var t=n(this).position().top;i.css({top:t+"px",display:"block"})},function(){i.css({top:top+"px",display:"none"})})})},bb_table_resize:function(t){var f=t.find(".col-resizer");if(f.length>0){var e=function(t){var u=n(this),i=u.closest("th");t?i.addClass("border-resize"):i.removeClass("border-resize");var r=i.index(),f=i.closest(".table-resize").find("tbody"),e=f.find("tr").each(function(){var i=n(this.children[r]);t?i.addClass("border-resize"):i.removeClass("border-resize")});return r},i=0,r=0,u=0,o=0;f.each(function(){n(this).drag(function(f){u=e.call(this,!0);var s=t.find("table colgroup col")[u].width;i=s?parseInt(s):n(this).closest("th").width();r=n(this).closest("table").width();o=f.clientX},function(f){t.find("table colgroup").each(function(t,e){var c=n(e).find("col")[u],h=f.clientX-o,s;c.width=i+h;s=n(e).closest("table");s.parent().hasClass("table-fixed-header")?s.width(r+h):s.width(r+h-6)})},function(){e.call(this,!1)})})}},bb_table_load:function(t,i){var u=n(t),r=u.find(".table-loader");i==="show"?r.addClass("show"):r.removeClass("show")},bb_table_filter_calc:function(t){var c=t.find(".table-toolbar"),l=0,h,e,u;c.length>0&&(l=c.outerHeight());var o=n(this),a=o.position(),v=o.attr("data-field"),f=t.find('.table-filter-item[data-field="'+v+'"]'),i=o.closest("th"),y=i.closest("thead"),p=y.outerHeight()-i.outerHeight(),s=i.outerWidth()+i.position().left-f.outerWidth()/2,r=0,w=i.hasClass("fixed");i.hasClass("sortable")&&(r=24);i.hasClass("filterable")&&(r=r+12);h=0;w||(h=i.closest("table").parent().scrollLeft());e=i.offset().left+i.outerWidth()-r+f.outerWidth()/2-n(window).width();r=r+h;e>0&&(s=s-e-16,$arrow=f.find(".card-arrow"),$arrow.css({left:"calc(50% - 0.5rem + "+(e+16)+"px)"}));u=t.find(".table-search").outerHeight();u===undefined?u=0:u+=8;f.css({top:a.top+l+p+u+50,left:s-r})},bb_table_filter:function(t){t.on("click",".filterable .fa-filter",function(){n.bb_table_filter_calc.call(this,t)})},bb_table_getCaretPosition:function(n){var t=-1,i=n.selectionStart,r=n.selectionEnd;return i==r&&(i==n.value.length?t=1:i==0&&(t=0)),t},bb_table_excel_keybord:function(t){var f=t.find(".table-excel").length>0;if(f){var i={TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40},e=function(n){var t=window.setTimeout(function(){window.clearTimeout(t);n.focus();n.select()},10)},r=function(t,i){var r=!1,f=t[i],u=n(f).find("input.form-control:not([readonly]");return u.length>0&&(e(u),r=!0),r},u=function(n,t){var o=n.closest("td"),e=o.closest("tr"),u=e.children("td"),f=u.index(o);if(t==i.LEFT_ARROW){while(f-->0)if(r(u,f))break}else if(t==i.RIGHT_ARROW){while(f++<u.length)if(r(u,f))break}else if(t==i.UP_ARROW){for(u=e.prev().children("td");f<u.length;)if(r(u,f))break}else if(t==i.DOWN_ARROW)for(u=e.next().children("td");f<u.length;)if(r(u,f))break};t.on("keydown",function(t){var r=n(t.target);switch(t.keyCode){case i.UP_ARROW:case i.LEFT_ARROW:n.bb_table_getCaretPosition(t.target)==0&&u(r,t.keyCode);break;case i.DOWN_ARROW:case i.RIGHT_ARROW:n.bb_table_getCaretPosition(t.target)==1&&u(r,t.keyCode)}})}},bb_table_width:function(t,i){var r=n(t);return i?r.outerWidth(!0):n(window).outerWidth(!0)},bb_table_tooltip:function(t){var i=n(t);i.find(".is-tips").tooltip({container:"body",title:function(){return n(this).text()}})},bb_table_fixedbody:function(t,i,r){var u,f,s,e,h,o;i||(i=t.find(".table-fixed-body"));r||(r=t.find(".table-fixed-header"));u=t.find(".table-search:first").outerHeight();u||(u=0);f=t.find(".table-pagination:first").outerHeight();f||(f=0);s=t.find(".table-toolbar:first").outerHeight();e=f+s+u+16;e>16&&(u>0&&(h=i.parent().css("height"),t.find(".table-search-collapse").each(function(){n(this).data("fixed-height",h)})),i.parent().css({height:"calc(100% - "+e+"px)"}));o=r.outerHeight();o>0&&i.css({height:"calc(100% - "+o+"px)"})},bb_table:function(t,i,r,u){var f=n(t),l=f.find(".table-fixed").length>0,a,h,c,e,o,v,s;if(l){a=f.find(".table-fixed-header");h=f.find(".table-fixed-body");h.on("scroll",function(){var n=h.scrollLeft();a.scrollLeft(n)});if(c=f.find(".fixed-scroll"),c.length===1){for(e=c.prev();e.length===1;)if(e.hasClass("fixed-right")&&!e.hasClass("modified"))o=e.css("right"),o=o.replace("px",""),n.browser.versions.mobile&&(o=parseFloat(o)-6+"px"),e.css({right:o}).addClass("modified"),e=e.prev();else break;n.browser.versions.mobile&&c.remove()}n.bb_table_fixedbody(f,h,a);f.find(".col-resizer:last").remove()}v=f.find(".table-cell.is-sort .table-text");s=u;v.each(function(){var i=n(this).parent().find(".fa:last"),t;i.length>0&&(t=s.unset,i.hasClass("fa-sort-asc")?t=s.sortAsc:i.hasClass("fa-sort-desc")&&(t=s.sortDesc),n(this).tooltip({container:"body",title:t}))});v.on("click",function(){var i=n(this),u=i.parent().find(".fa:last"),t="sortAsc",r,f;u.hasClass("fa-sort-asc")?t="sortDesc":u.hasClass("fa-sort-desc")&&(t="unset");r=n("#"+i.attr("aria-describedby"));r.length>0&&(f=r.find(".tooltip-inner"),f.html(s[t]),i.attr("data-original-title",s[t]))});f.children(".table-scroll").scroll(function(){f.find(".table-filter-item.show").each(function(){var t=n(this).attr("data-field"),i=f.find('.fa-filter[data-field="'+t+'"]')[0];n.bb_table_filter_calc.call(i,f)})});n.bb_table_row_hover(f);n.bb_table_tooltip(t);n.bb_table_filter(f);n.bb_table_resize(f);n.bb_table_excel_keybord(f);f.on("click",".table-search-collapse",function(){var i=n(this).toggleClass("is-open"),t=i.closest(".card").find(".card-body");t.length===1&&(t.is(":hidden")&&(l&&f.find(".table-fixed-body").parent().css({height:i.data("fixed-height")}),t.parent().toggleClass("collapsed")),t.slideToggle("fade",function(){var t=n(this);t.is(":hidden")&&t.parent().toggleClass("collapsed");l&&n.bb_table_fixedbody(f)}))})}});n(function(){n(document).on("keyup",function(t){var r,i;t.key==="Enter"?(r=n(t.target).closest(".table-container"),i=r.data("bb_table_search"),i&&i.obj.invokeMethodAsync(i.searchMethod)):t.key==="Escape"&&(r=n(t.target).closest(".table-container"),i=r.data("bb_table_search"),i&&i.obj.invokeMethodAsync(i.clearSearchMethod))});n(document).on("click",function(t){var i=n(t.target),u=i.closest(".dropdown-menu.show"),r;u.length>0||(r=i.closest(".btn-col"),r.length>0)||n(".table-toolbar > .btn-group > .btn-col > .dropdown-toggle.show").each(function(t,i){n(i).trigger("click")})})})}(jQuery),function(n){n.extend({bb_setTitle:function(n){document.title=n}})}(jQuery),function(n){n.extend({bb_toast_close:function(t){var i=n(t);i.find(".btn-close").trigger("click")},bb_toast:function(t,i,r){var f,o;window.Toasts===undefined&&(window.Toasts=[]);Toasts.push(t);var u=n(t),s=u.attr("data-bs-autohide")!=="false",e=parseInt(u.attr("data-bs-delay"));u.addClass("d-block");f=null;o=window.setTimeout(function(){window.clearTimeout(o);s&&(u.find(".toast-progress").css({width:"100%",transition:"width "+e/1e3+"s linear"}),f=window.setTimeout(function(){window.clearTimeout(f);u.find(".btn-close").trigger("click")},e));u.addClass("show")},50);u.on("click",".btn-close",function(n){n.preventDefault();n.stopPropagation();f!=null&&window.clearTimeout(f);u.removeClass("show");var t=window.setTimeout(function(){window.clearTimeout(t);u.removeClass("d-block");Toasts.remove(u[0]);Toasts.length===0&&i.invokeMethodAsync(r)},500)})}})}(jQuery),function(n){n.extend({bb_tooltip:function(t,i,r,u,f,e){var s=document.getElementById(t),h=bootstrap.Tooltip.getInstance(s),l,c,o;h&&h.dispose();i!=="dispose"&&(l={html:f,sanitize:!f,title:r,placement:u,trigger:e},h=new bootstrap.Tooltip(s,l),c=n(s),i==="enable"?(o=c.parents("form").find(".is-invalid:first"),o.prop("nodeName")==="INPUT"?o.prop("readonly")?o.trigger("focus"):o.focus():o.prop("nodeName")==="DIV"&&o.trigger("focus")):i!==""&&c.tooltip(i))}});n(function(){n(document).on("inserted.bs.tooltip",".is-invalid",function(){n("#"+n(this).attr("aria-describedby")).addClass("is-invalid")})})}(jQuery),function(n){n.extend({bb_transition:function(t,i,r){n(t).on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oAnimationEnd",function(){i.invokeMethodAsync(r)})}})}(jQuery),function(n){n.extend({bb_tree:function(t){var i=n(t);i.find(".tree-content").hover(function(){n(this).parent().addClass("hover")},function(){n(this).parent().removeClass("hover")})}})}(jQuery),function(n){n.extend({bb_upload:function(t){var i=n(t);i.on("click",".btn-browser",function(){var r=n(this),t=i.find(":file");t.trigger("click")})}})}(jQuery),function(n){n.extend({bb_form:function(t){var i=n("#"+t);i.find("[aria-describedby]").each(function(t,i){var r=n(i);r.tooltip("dispose")})}})}(jQuery);