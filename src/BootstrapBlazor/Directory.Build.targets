<Project>

  <Import Project="..\..\Version.props" />

  <ItemGroup>
    <PackageReference Include="AspNetCore.SassCompiler" Version="1.93.2" Condition="'$(Configuration)'=='Debug' and '$(TargetFramework)' == '$(RunTargetFramework)'" />
  </ItemGroup>

  <PropertyGroup>
    <BootstrapBundleFile>$(MSBuildThisFileDirectory)wwwroot/core/bootstrap/js/bootstrap.bundle.min.js</BootstrapBundleFile>
    <TargetBootstrapBundleFile>$(MSBuildThisFileDirectory)wwwroot/js/bootstrap.blazor.bundle.min.js</TargetBootstrapBundleFile>
  </PropertyGroup>

  <Target Name="CopyCss" AfterTargets="Build" Condition="'$(TargetFramework)' == '$(RunTargetFramework)'">
    <Message Text="Copy bootstrap.bundle.min.js ..." Importance="high"></Message>
    <Copy SourceFiles="$(BootstrapBundleFile)" DestinationFiles="$(TargetBootstrapBundleFile)" SkipUnchangedFiles="true"></Copy>

    <Exec Command="dotnet tool restore"></Exec>
    <Message Text="Bundler min css ..." Importance="high"></Message>
    <Exec Command="dotnet css-bundler .\bundler.json"></Exec> 
  </Target>

</Project>
