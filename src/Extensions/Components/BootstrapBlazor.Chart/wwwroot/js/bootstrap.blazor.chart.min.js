(function(n){window.chartOption={options:{borderWidth:3,responsive:!0,maintainAspectRatio:!0,aspectRatio:2,resizeDelay:0,plugins:{title:{display:!0,text:null}},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{x:{display:!0,title:{display:!1,text:null}},y:{display:!0,title:{display:!1,text:null}}}}};var t=(n,t)=>n.p0.skip||n.p1.skip?t:undefined,r=(n,t)=>n.p0.parsed.y>n.p1.parsed.y?t:undefined,i={fill:!1,interaction:{intersect:!1},radius:0};n.extend({getChartOption:function(r){var f=[],s;window.chartColors=r.options.colors;for(s in r.options.colors)f.push(s);var u={},o={},e=null;return r.type==="line"?(n.isArray(r.data)&&(n.each(r.data,function(i,u){n.each(u.data,function(n,u){u===null&&(r.data[i].data[n]=NaN,r.data[i].segment={borderColor:n=>t(n,"rgb(0,0,0,0.2)"),borderDash:n=>t(n,[6,6])})})}),r.options=n.extend(!0,r.options,i)),r.options.borderWidth>0&&(chartOption.options.borderWidth=r.options.borderWidth),u=n.extend(!0,{},chartOption),e=function(t){var i=chartColors[f.shift()];n.extend(t,{backgroundColor:i,borderColor:i})}):r.type==="bar"?(u=n.extend(!0,{},chartOption),e=function(t){var i=chartColors[f.shift()];n.extend(t,{backgroundColor:Chart.helpers.color(i).alpha(.5).rgbString(),borderColor:i,borderWidth:1})}):r.type==="pie"||r.type==="doughnut"?(u=n.extend(!0,{},chartOption,{options:{scales:{x:{display:!1},y:{display:!1}}}}),e=function(t){n.extend(t,{backgroundColor:f.slice(0,t.data.length).map(function(n){return chartColors[n]})})},r.type==="doughnut"&&n.extend(u.options,{cutoutPercentage:50,animation:{animateScale:!0,animateRotate:!0}})):r.type==="bubble"&&(u=n.extend(!0,{},chartOption,{data:{animation:{duration:1e4}},options:{tooltips:{mode:"point"}}}),e=function(t){var i=chartColors[f.shift()];n.extend(t,{backgroundColor:Chart.helpers.color(i).alpha(.5).rgbString(),borderWidth:1,borderColor:i})}),n.each(r.data,function(){e(this)}),o={x:{title:{display:r.options.x.title!=null,text:r.options.x.title},stacked:r.options.x.stacked},y:{title:{display:r.options.y.title!=null,text:r.options.y.title},stacked:r.options.x.stacked,position:r.options.y.position}},r.options.y2.title!=null&&(o.y2={title:{display:r.options.y2.title!=null,text:r.options.y2.title},stacked:r.options.x.stacked,position:r.options.y2.position,ticks:{max:r.options.y2.TicksMax,min:r.options.y2.TicksMin}}),n.extend(!0,u,{type:r.type,data:{labels:r.labels,datasets:r.data},options:{responsive:r.options.responsive,maintainAspectRatio:r.options.maintainAspectRatio,aspectRatio:r.options.aspectRatio,resizeDelay:r.options.resizeDelay,plugins:{title:{display:r.options.title!=null,text:r.options.title}},scales:o}})},updateChart:function(n,t){t.updateMethod==="addDataset"?n.data.datasets.push(t.data.datasets.pop()):t.updateMethod==="removeDataset"?n.data.datasets.pop():t.updateMethod==="addData"?n.data.datasets.length>0&&(n.data.labels.push(t.data.labels.pop()),n.data.datasets.forEach(function(n,i){n.data.push(t.data.datasets[i].data.pop());(t.type==="pie"||t.type==="doughnut")&&n.backgroundColor.push(t.data.datasets[i].backgroundColor.pop())})):t.updateMethod==="removeData"?(n.data.labels.pop(),n.data.datasets.forEach(function(n){n.data.pop();(t.type==="pie"||t.type==="doughnut")&&n.backgroundColor.pop()})):t.updateMethod==="setAngle"?t.type==="doughnut"&&(t.angle===360?(n.options.circumference=360,n.options.rotation=-360):(n.options.circumference=180,n.options.rotation=-90)):t.updateMethod==="reload"?(n.data=t.data,n.options=t.options):n.data.datasets.forEach((n,i)=>{n.data=t.data.datasets[i].data})},bb_chart:function(t,i,r,u,f,e,o){var c=n(t),s,h;u.type=e;s=c.data("chart");s?(h=n.getChartOption(u),h.angle=o,h.updateMethod=f,n.updateChart(s.config,h),s.update()):(h=n.getChartOption(u),c.data("chart",s=new Chart(t.getElementsByTagName("canvas"),h)),u.options.height!==null&&(s.canvas.parentNode.style.height=u.options.height),u.options.width!==null&&(s.canvas.parentNode.style.width=u.options.width),c.removeClass("is-loading").trigger("chart.afterInit"),i.invokeMethodAsync(r))}})})(jQuery);