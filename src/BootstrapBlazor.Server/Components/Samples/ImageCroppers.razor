@page "/image-cropper"
@inject IStringLocalizer<ImageCroppers> Localizer
@inject IOptionsMonitor<WebsiteOptions> WebsiteOption

<h3>@Localizer["Title"]</h3>

<PackageTips Name="BootstrapBlazor.ImageCropper" />

<DemoBlock Title="@Localizer["ImageCropperNormalText"]" Introduction="@Localizer["ImageCropperNormalIntro"]" Name="Normal">
    <ImageCropper @ref="_cropper" Url="@_images[0]" Options="_roundOptions1"></ImageCropper>
    <section ignore>
        <BootstrapInputGroup>
            <Button Text="OK" OnClick="Crop"></Button>
            <Button Text="@Localizer["ImageCropperResetText"]" OnClick="_cropper.Reset"></Button>
            <Button Text="@Localizer["ImageCropperReplaceText"]" OnClick="OnClickReplace"></Button>
            <Button Text="@Localizer["ImageCropperRotateText"]" OnClick="Rotate"></Button>
            <Button Text="@Localizer["ImageCropperEnableText"]" OnClick="_cropper.Enable"></Button>
            <Button Text="@Localizer["ImageCropperDisabledText"]" OnClick="_cropper.Disable"></Button>
            <Button Text="@Localizer["ImageCropperClearText"]" OnClick="_cropper.Clear"></Button>
        </BootstrapInputGroup>

        <div class="d-flex mt-3" style="gap: 0.5rem;">
            <div class="bb-cropper-preview bb-cropper-preview1 bb-cropper-preview-lg"></div>
            <div class="bb-cropper-preview bb-cropper-preview1 bb-cropper-preview-md"></div>
            <div class="bb-cropper-preview bb-cropper-preview1 bb-cropper-preview-sm"></div>
            <div class="bb-cropper-preview bb-cropper-preview1 bb-cropper-preview-xs"></div>
        </div>

        @if (!string.IsNullOrEmpty(_base64String))
        {
            <img src="@_base64String" style="width: 240px; margin-top: 1rem;" />
            <Textarea Value="@_base64String" rows="3" class="mt-3"></Textarea>
        }
    </section>
</DemoBlock>

<DemoBlock Title="@Localizer["ImageCropperRoundText"]" Introduction="@Localizer["ImageCropperRoundIntro"]" Name="Round">
    <ImageCropper @ref="_roundCropper" Url="@_images[0]" Options="_roundOptions2"></ImageCropper>
    <section ignore>
        <BootstrapInputGroup>
            <Button Text="OK" OnClick="RoundCrop"></Button>
        </BootstrapInputGroup>

        <div class="d-flex mt-3" style="gap: 0.5rem;">
            <div class="bb-cropper-preview bb-cropper-preview-round bb-cropper-preview-lg"></div>
            <div class="bb-cropper-preview bb-cropper-preview-round bb-cropper-preview-md"></div>
            <div class="bb-cropper-preview bb-cropper-preview-round bb-cropper-preview-sm"></div>
            <div class="bb-cropper-preview bb-cropper-preview-round bb-cropper-preview-xs"></div>
        </div>

        @if (!string.IsNullOrEmpty(_base64String2))
        {
            <img src="@_base64String2" style="width: 240px; margin-top: 1rem;" />
        }
    </section>
</DemoBlock>

<AttributeTable Items="@GetAttributes()" />
